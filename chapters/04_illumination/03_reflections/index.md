上文介绍了三种基础反射模型及其单独的运算，本例将三者结合起来，形成混合反射模型：

$$
E = k_d L_d \max((\vec{l} \cdot \vec{n}), 0) + k_s L_s \max((\vec{v} \cdot \vec{r})^{\alpha}, 0) + k_a L_a
$$

同时，在实际运算的时，我们应意识到环境光反射是全局统一的，它不受表面法向量、光源位置（环境光本就没有定义光源位置）、光源方向、摄像机位置等一系列变量的影响，因此它不应该在片元着色器上计算，以避免无意义的计算量，我们可以在顶点着色器或者直接在 JavaScript 代码中计算，此处选择在顶点着色器中完成计算。

此外，此例的运算逻辑仅为了演示三种反射模型的结合计算，并没有根据实际的光照类型优化计算方式。在实际的应用的，我们可以根据不同的光源类型变化优化计算，例如远距离的平行光光源，三角形中所有位置都共享同一个法向量，而平行光的入射方向是固定，也即对于此三角形而言，三角形上的任意一个位置的出射方向都是相同的，因此我们实际上没必要在片元着色器中计算每一个位置的出射方向，那我们就可以将计算移动到顶点着色器或 JavaScript 代码中进行计算以减少计算量。但同时我们也不能盲目地进行遵照某种优化逻辑，需要针对实际的场景实际分析。

> 本例使用环境光和[点光源](./21_light_sources/01_pointlight)作为光源。且为了更好地展示镜面反射效果，使用 [Phong Shading](./20_shading/02_phongshading) 渲染光照。
